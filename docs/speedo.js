function triggerEvent(t,e,a){const n=new CustomEvent(e);n.name=e,n.state=a,t.dispatchEvent(n)}const pushState=history.pushState;history.pushState=function(t){const e=pushState.apply(history,arguments);return triggerEvent(window,"pushstate",t),triggerEvent(window,"statechange",t),e};const replaceState=history.replaceState;history.replaceState=function(t){const e=replaceState.apply(history,arguments);return triggerEvent(window,"replacestate",t),triggerEvent(window,"statechange",t),e},window.addEventListener("popstate",(function(t){triggerEvent(window,"statechange",t.state)}));const appId="222";window.onmessage=async t=>{if("222"!==t.data.id||"speedo"!==t.data.type)return;const{name:e}=t.data,a=new Function(`return ${t.data.fn}`)();a&&(requestAnimationFrame((()=>{performance.mark(`${e}-start`)})),requestAnimationFrame((async()=>{await a(),setTimeout((()=>{performance.mark(`${e}-end`),performance.measure(`${e}`,{start:`${e}-start`,end:`${e}-end`});const t=JSON.stringify(performance.getEntriesByName(`${e}`)[0]);window.top.postMessage({type:"test-completed",status:"success",result:t},"*")}),0)})))},window.top.postMessage({type:"app-ready",status:"success",appId:"222"},"*");